.output {
  user-select: none; // 必须禁止
  margin-top: 24px;
}

mjx-math {
  white-space: normal !important;
  box-sizing: border-box;
}

mjx-math {
  max-width: 100%;
  mjx-utext {
    font-family: inherit !important;
    font-style: normal !important;
  }

  *,
  mjx-merror mjx-utext {
    min-height: 20px;
    line-height: 20px !important;
  }

  & > * * {
    line-height: 0px !important;
    min-height: 0 !important;
  }

  & > mjx-texatom {
    max-width: 100%;
  }
  mjx-merror {
    max-width: 100%;
    background: transparent;
    word-break: break-all;
    mjx-mtext,
    mjx-utext {
      max-width: 100%;
    }
  }

  mjx-munder > mjx-row {
    text-align: center;
  }
  // mjx-munder,
  // mjx-munder *,
  mjx-munderover *,
  mjx-under {
    line-height: 0px !important;
    // height: 0 !important;
    min-height: 0 !important;
    vertical-align: 0 !important;
    padding: 0 !important;
  }

  // mjx-texatom {
  //   white-space: normal;
  //   vertical-align: 0 !important;
  //   padding: 0 !important;
  // }

  mjx-mspace {
    display: block;
    line-height: 0px;
    height: 0 !important;
    min-height: 0 !important;
    vertical-align: 0 !important;

    &[style^='width'] {
      // 处理\\pmod符号首位的空格样式
      display: inline-block !important;
    }
  }
  // 根式
  mjx-mroot {
    vertical-align: -0.14em;
  }
}
mjx-container {
  margin: 0 !important;
  display: inline-block !important;
  overflow-y: visible;
  max-width: 100%;
}

// latex符号后的空格处理
mjx-mspace[style='width: 0.167em;'] {
  width: 0 !important;
  display: none !important;
}

//粗体、斜体
.bf * {
  font-weight: 600 !important;
}
.it * {
  font-style: italic !important;
}

// 标点符号不能出现在行首的样式处理 start
.mjx-kz-sup {
  position: relative;
  top: 0.35em;
  margin-right: 0.3em;
  margin-left: 0.3em;
  transform: scale(1.3);
}
.mjx-kz-sub {
  position: relative;
  top: -0.3em;
  margin-right: 0.3em;
  margin-left: 0.3em;
  transform: scale(1.3);
}
// 标点符号不能出现在行首的样式处理end

// 下划线处理 start
.mjx-kz-underline {
  display: inline-flex;
  flex-wrap: wrap;
  align-items: flex-end;
  position: relative;
  top: 4px;
  margin-bottom: calc(20px / 2);
  > * {
    line-height: calc(20px / 3) !important;
    min-height: calc(20px / 3) !important;
  }
}
mjx-container .mjx-kz-underline [space='4'] {
  margin-left: 0;
}

.mjx-kz-underline > * {
  position: relative;

  &::after {
    display: block;
    content: ' ';
    position: absolute;
    left: 0;
    bottom: 0px;
    height: 1px;
    width: 100%;
    background: #333;
  }
}
// 下划线处理 end
// 四线三格 start
.fourlineruled {
  mjx-mtd {
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    border: 0 !important;
    border-bottom: 1px solid #000 !important;

    mjx-tstrut {
      height: 3px;
    }
  }

  mjx-mtr:nth-of-type(2) mjx-mtd {
    border-width: 2px !important;
  }
  mjx-table,
  mjx-table > mjx-itable {
    width: 100%;
  }
  mjx-menclose {
    margin-top: 0.7em;
    margin-bottom: 0.7em;
    mjx-box {
      border-left: none;
      border-right: none;
      border-bottom: none !important;
      border-width: 1px !important;
    }
  }
}
// 四线三格 end

mjx-c.mjx-c25B4.TEX-A::before {
  padding: 0.575em 0.722em 0.12em 0;
}

import{S as Se,l as K,a as Oe,g as $e,f as Fe}from"./index-af090412.js";import{r as j,f as ve,g as Re,i as Le,w as H,h as p,o as X,j as Pe,k as M,l as Ie,n as J,m as Ne,u as F,q as Q,s as Me,d as ee,t as O,T as ze,_ as Ve,c as T,e as C,v as N,x as se,a as w,y as ce,F as L,z as V,A as Ye,p as je,b as He,B as Xe,C as ie,D,E as Ke,G as qe,H as Ue}from"./index-df33fd57.js";function ae(e){return new Promise((t,n)=>{try{const o=document.createElement("input");o.setAttribute("value",e+""),document.body.appendChild(o),o.select(),document.execCommand("copy"),setTimeout(()=>{document.body.removeChild(o),t()},0)}catch(o){n(o)}})}const he=e=>e!=null,We=e=>typeof e=="function",me=e=>e!==null&&typeof e=="object",Ze=()=>Ge?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1,ge=Object.assign,Ge=typeof window<"u";function re(e,t){const n=t.split(".");let o=e;return n.forEach(c=>{var s;o=me(o)&&(s=o[c])!=null?s:""}),o}const _e=[Number,String],Je={type:Boolean,default:!0},Qe=e=>({type:Number,default:e});var te=typeof window<"u",et=e=>e===window,ue=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),W=e=>{const t=F(e);if(et(t)){const n=t.innerWidth,o=t.innerHeight;return ue(n,o)}return t!=null&&t.getBoundingClientRect?t.getBoundingClientRect():ue(0,0)};function tt(e){const t=Pe(e,null);if(t){const n=Q(),{link:o,unlink:c,internalChildren:s}=t;o(n),ve(()=>c(n));const r=M(()=>s.indexOf(n));return{parent:t,index:r}}return{parent:null,index:p(-1)}}function nt(e){const t=[],n=o=>{Array.isArray(o)&&o.forEach(c=>{var s;Me(c)&&(t.push(c),(s=c.component)!=null&&s.subTree&&(t.push(c.component.subTree),n(c.component.subTree.children)),c.children&&n(c.children))})};return n(e),t}function ot(e,t,n){const o=nt(e.subTree.children);n.sort((s,r)=>o.indexOf(s.vnode)-o.indexOf(r.vnode));const c=n.map(s=>s.proxy);t.sort((s,r)=>{const h=c.indexOf(s),a=c.indexOf(r);return h-a})}function st(e){const t=j([]),n=j([]),o=Q();return{children:t,linkChildren:s=>{Ie(e,Object.assign({link:a=>{a.proxy&&(n.push(a),t.push(a.proxy),ot(o,t,n))},unlink:a=>{const v=n.indexOf(a);t.splice(v,1),n.splice(v,1)},children:t,internalChildren:n},s))}}}function ct(e){let t;X(()=>{e(),J(()=>{t=!0})}),Ne(()=>{t&&e()})}function le(e,t,n={}){if(!te)return;const{target:o=window,passive:c=!1,capture:s=!1}=n;let r;const h=v=>{const d=F(v);d&&!r&&(d.addEventListener(e,t,{capture:s,passive:c}),r=!0)},a=v=>{const d=F(v);d&&r&&(d.removeEventListener(e,t,s),r=!1)};ve(()=>a(o)),Re(()=>a(o)),ct(()=>h(o)),Le(o)&&H(o,(v,d)=>{a(d),h(v)})}var Y,q;function it(){if(!Y&&(Y=p(0),q=p(0),te)){const e=()=>{Y.value=window.innerWidth,q.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:Y,height:q}}var at=/scroll|auto|overlay/i,ye=te?window:void 0;function rt(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function ut(e,t=ye){let n=e;for(;n&&n!==t&&rt(n);){const{overflowY:o}=window.getComputedStyle(n);if(at.test(o))return n;n=n.parentNode}return t}function lt(e,t=ye){const n=p();return X(()=>{e.value&&(n.value=ut(e.value,t))}),n}function Z(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function de(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function Ee(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function dt(e){de(window,e),de(document.body,e)}Ze();const ft=e=>e.stopPropagation();function pt(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&ft(e)}function vt(e){const t=F(e);if(!t)return!1;const n=window.getComputedStyle(t),o=n.display==="none",c=t.offsetParent===null&&n.position!=="fixed";return o||c}it();function ht(e){const t={};return e!==void 0&&(t.zIndex=+e),t}const mt=/-(\w)/g,xe=e=>e.replace(mt,(t,n)=>n.toUpperCase()),{hasOwnProperty:gt}=Object.prototype;function _t(e,t,n){const o=t[n];he(o)&&(!gt.call(e,n)||!me(o)?e[n]=o:e[n]=Ce(Object(e[n]),o))}function Ce(e,t){return Object.keys(t).forEach(n=>{_t(e,t,n)}),e}var yt={name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const fe=p("zh-CN"),pe=j({"zh-CN":yt}),Et={messages(){return pe[fe.value]},use(e,t){fe.value=e,this.add({[e]:t})},add(e={}){Ce(pe,e)}};var xt=Et;function Ct(e){const t=xe(e)+".";return(n,...o)=>{const c=xt.messages(),s=re(c,t+n)||re(c,n);return We(s)?s(...o):s}}function G(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,o)=>n+G(e,o),""):Object.keys(t).reduce((n,o)=>n+(t[o]?G(e,o):""),""):""}function bt(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${G(t,n)}`)}function be(e){const t=`van-${e}`;return[t,bt(t),Ct(t)]}const wt="van-hairline",Bt=`${wt}--bottom`;function we(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(xe(`-${n}`),e))},e}function Be(e){const t=Q();t&&ge(t.proxy,e)}function Tt(e,t){return e>t?"horizontal":t>e?"vertical":""}function Dt(){const e=p(0),t=p(0),n=p(0),o=p(0),c=p(0),s=p(0),r=p(""),h=()=>r.value==="vertical",a=()=>r.value==="horizontal",v=()=>{n.value=0,o.value=0,c.value=0,s.value=0,r.value=""};return{move:i=>{const f=i.touches[0];n.value=(f.clientX<0?0:f.clientX)-e.value,o.value=f.clientY-t.value,c.value=Math.abs(n.value),s.value=Math.abs(o.value);const E=10;(!r.value||c.value<E&&s.value<E)&&(r.value=Tt(c.value,s.value))},start:i=>{v(),e.value=i.touches[0].clientX,t.value=i.touches[0].clientY},reset:v,startX:e,startY:t,deltaX:n,deltaY:o,offsetX:c,offsetY:s,direction:r,isVertical:h,isHorizontal:a}}function At(){const e="A".charCodeAt(0);return Array(26).fill("").map((n,o)=>String.fromCharCode(e+o))}const[Te,U]=be("index-bar"),kt={sticky:Je,zIndex:_e,teleport:[String,Object],highlightColor:String,stickyOffsetTop:Qe(0),indexList:{type:Array,default:At}},De=Symbol(Te);var St=ee({name:Te,props:kt,emits:["select","change"],setup(e,{emit:t,slots:n}){const o=p(),c=p(),s=p(""),r=Dt(),h=lt(o),{children:a,linkChildren:v}=st(De);let d;v({props:e});const u=M(()=>{if(he(e.zIndex))return{zIndex:+e.zIndex+1}}),i=M(()=>{if(e.highlightColor)return{color:e.highlightColor}}),f=(l,m)=>{for(let y=a.length-1;y>=0;y--){const b=y>0?m[y-1].height:0,x=e.sticky?b+e.stickyOffsetTop:0;if(l+x>=m[y].top)return y}return-1},E=l=>a.find(m=>String(m.index)===l),B=()=>{if(vt(o))return;const{sticky:l,indexList:m}=e,y=Z(h.value),b=W(h),x=a.map(R=>R.getRect(h.value,b));let k=-1;if(d){const R=E(d);if(R){const S=R.getRect(h.value,b);k=f(S.top,x)}}else k=f(y,x);s.value=m[k],l&&a.forEach((R,S)=>{const{state:A,$el:ke}=R;if(S===k||S===k-1){const I=ke.getBoundingClientRect();A.left=I.left,A.width=I.width}else A.left=null,A.width=null;if(S===k)A.active=!0,A.top=Math.max(e.stickyOffsetTop,x[S].top-y)+b.top;else if(S===k-1&&d===""){const I=x[k].top-y;A.active=I>0,A.top=I+b.top-x[S].height}else A.active=!1}),d=""},z=()=>{J(B)};le("scroll",B,{target:h,passive:!0}),X(z),H(()=>e.indexList,z),H(s,l=>{l&&t("change",l)});const g=()=>e.indexList.map(l=>{const m=l===s.value;return O("span",{class:U("index",{active:m}),style:m?i.value:void 0,"data-index":l},[l])}),P=l=>{d=String(l);const m=E(d);if(m){const y=Z(h.value),b=W(h),{offsetHeight:x}=document.documentElement;if(m.$el.scrollIntoView(),y===x-b.height){B();return}e.sticky&&e.stickyOffsetTop&&dt(Ee()-e.stickyOffsetTop),t("select",m.index)}},_=l=>{const{index:m}=l.dataset;m&&P(m)},$=l=>{_(l.target)};let ne;const Ae=l=>{if(r.move(l),r.isVertical()){pt(l);const{clientX:m,clientY:y}=l.touches[0],b=document.elementFromPoint(m,y);if(b){const{index:x}=b.dataset;x&&ne!==x&&(ne=x,_(b))}}},oe=()=>O("div",{ref:c,class:U("sidebar"),style:u.value,onClick:$,onTouchstartPassive:r.start},[g()]);return Be({scrollTo:P}),le("touchmove",Ae,{target:c}),()=>{var l;return O("div",{ref:o,class:U()},[e.teleport?O(ze,{to:e.teleport},{default:()=>[oe()]}):oe(),(l=n.default)==null?void 0:l.call(n)])}}});const[Ot,$t]=be("index-anchor"),Ft={index:_e};var Rt=ee({name:Ot,props:Ft,setup(e,{slots:t}){const n=j({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),o=p(),{parent:c}=tt(De);if(!c)return;const s=()=>n.active&&c.props.sticky,r=M(()=>{const{zIndex:a,highlightColor:v}=c.props;if(s())return ge(ht(a),{left:n.left?`${n.left}px`:void 0,width:n.width?`${n.width}px`:void 0,transform:n.top?`translate3d(0, ${n.top}px, 0)`:void 0,color:v})});return Be({state:n,getRect:(a,v)=>{const d=W(o);return n.rect.height=d.height,a===window||a===document.body?n.rect.top=d.top+Ee():n.rect.top=d.top+Z(a)-v.top,n.rect}}),()=>{const a=s();return O("div",{ref:o,style:{height:a?`${n.rect.height}px`:void 0}},[O("div",{style:r.value,class:[$t({sticky:a}),{[Bt]:a}]},[t.default?t.default():e.index])])}}});const Lt=we(Rt),Pt=we(St);const It=e=>(je("data-v-7c588c21"),e=e(),He(),e),Nt={class:"page-doc"},Mt={class:"header"},zt=It(()=>C("div",{class:"logo"},"KeZhi LaTex",-1)),Vt={class:"right"},Yt=["type-id"],jt={class:"type-desc"},Ht={key:0,class:"base-table"},Xt={class:"formula-list"},Kt=["onClick"],qt={class:"name"},Ut={class:"icon"},Wt={class:"text"},Zt={class:"name"},Gt={class:"icon"},Jt=["src"],Qt={class:"text"},en=ee({__name:"LatexDoc",setup(e){let t=Oe;Xe();let n=M(()=>t.map(u=>u.name));const o=new Se;let c=p(""),s=p([]);p([]);let r=p();function h(u){if(!u){s.value=K.flatMapDeep(t.map(i=>({label:i.name,value:"",id:i.id})).filter(i=>i));return}s.value=K.flatMapDeep(t.map(i=>i.name.includes(u)?{label:i.name,value:"",id:i.id}:i.data.map(f=>{var E,B;if(typeof f=="object"&&((E=f.name)!=null&&E.includes(u)||(B=f.formula)!=null&&B.includes(u)))return{label:f.name,value:f.formula,id:f.icon,parentId:i.id}}).filter(f=>f)).filter(i=>i))}function a(u){var E;(E=r.value)==null||E.blur();let i=null;u.parentId?i=document.querySelector(`.formula-${u.label}`):i=document.querySelector(`div[type-id="${u.id}"]`),console.log(u,i,`.formula-${u.label}`),Array.from(document.querySelectorAll(".active")).forEach(B=>{B.classList.remove("active")}),i==null||i.scrollIntoView({block:"center"}),i==null||i.classList.add("active")}function v(){s.value=K.flatMapDeep(t.map(u=>({label:u.name,value:"",id:u.id})).filter(u=>u))}H(()=>t,async()=>{t.length&&(await J(),$e())},{immediate:!0}),X(()=>{o.add([{shortcut:"CmdOrCtrl+K",handler:u=>{var i,f;return(i=r.value)==null||i.blur(),(f=r.value)==null||f.focus(),!0}}])});async function d(u,i){typeof u=="string"?await ae(u):await ae(u.formula),Ue.success({message:"Copied！",appendTo:`.${i}`,icon:"none",duration:800})}return(u,i)=>{const f=se("el-option"),E=se("el-select"),B=Lt,z=Pt;return w(),T("div",Nt,[C("div",Mt,[zt,C("div",Vt,[O(E,{modelValue:c.value,"onUpdate:modelValue":i[0]||(i[0]=g=>c.value=g),placeholder:"Please input",remote:"",filterable:"",style:{width:"400px","margin-left":"110px"},"suffix-icon":F(Ye),"suffix-transition":!1,class:"search",ref_key:"searchRef",ref:r,"remote-method":h,"value-key":"id","default-first-option":!0,onChange:a,onFocus:v},{prefix:N(()=>[ce("Cmd / Ctrl + K ")]),default:N(()=>[(w(!0),T(L,null,V(s.value,g=>(w(),ie(f,{key:g.id,value:g},{default:N(()=>[ce(D(g.label)+" "+D(g.value),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","suffix-icon"])])]),O(z,{"index-list":n.value,sticky:!1,"sticky-offset-top":64,"highlight-color":"#329894"},{default:N(()=>[(w(!0),T(L,null,V(F(t),(g,P)=>(w(),ie(B,{key:g.name,index:g.name},{default:N(()=>[C("div",{class:"type-item","type-id":g.id},D(g.name),9,Yt),C("div",jt,D(g.desc),1),g.isBase?(w(),T("div",Ht,[(w(!0),T(L,null,V(g.data,(_,$)=>(w(),T("div",{key:$,class:"base-item"},D(_),1))),128))])):Ke("",!0),C("div",Xt,[(w(!0),T(L,null,V(g.data,(_,$)=>(w(),T("div",{class:qe(["formula-icon",[`formula-${P}-${$}`,`formula-${typeof _=="string"?_:_.name}`]]),key:$,onClick:()=>d(_,`formula-${P}-${$}`)},[typeof _=="string"?(w(),T(L,{key:0},[C("div",qt,D(_),1),C("div",Ut,D(_),1),C("div",Wt,D(_),1)],64)):(w(),T(L,{key:1},[C("div",Zt,D(_.name),1),C("div",Gt,[C("img",{src:F(Fe)+_.icon+".svg"},null,8,Jt)]),C("div",Qt,D(_.formula),1)],64))],10,Kt))),128))])]),_:2},1032,["index"]))),128))]),_:1},8,["index-list"])])}}}),on=Ve(en,[["__scopeId","data-v-7c588c21"]]);export{on as default};

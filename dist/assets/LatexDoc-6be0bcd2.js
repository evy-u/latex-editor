import{S as Oe,l as W,a as Se,y as $e,f as Fe}from"./index-fb3697eb.js";import{r as K,o as he,a as Re,i as Le,w as q,b as p,c as U,d as Pe,e as V,p as Ie,n as te,f as Ne,u as L,g as ne,h as Me,j as oe,k as R,T as ze,_ as Ve,l as w,m as _,q as z,s as ce,t as b,v as ie,F as I,x as H,y as Ye,z as je,A as He,B as Xe,C as ae,D as B,E as Ke,G as qe,H as Ue}from"./index-9e91a47e.js";const me=e=>e!=null,We=e=>typeof e=="function",ge=e=>e!==null&&typeof e=="object",Ze=()=>Ge?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1,_e=Object.assign,Ge=typeof window<"u";function re(e,t){const n=t.split(".");let o=e;return n.forEach(c=>{var s;o=ge(o)&&(s=o[c])!=null?s:""}),o}const ye=[Number,String],Je={type:Boolean,default:!0},Qe=e=>({type:Number,default:e});var se=typeof window<"u",et=e=>e===window,ue=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),J=e=>{const t=L(e);if(et(t)){const n=t.innerWidth,o=t.innerHeight;return ue(n,o)}return t!=null&&t.getBoundingClientRect?t.getBoundingClientRect():ue(0,0)};function tt(e){const t=Pe(e,null);if(t){const n=ne(),{link:o,unlink:c,internalChildren:s}=t;o(n),he(()=>c(n));const r=V(()=>s.indexOf(n));return{parent:t,index:r}}return{parent:null,index:p(-1)}}function nt(e){const t=[],n=o=>{Array.isArray(o)&&o.forEach(c=>{var s;Me(c)&&(t.push(c),(s=c.component)!=null&&s.subTree&&(t.push(c.component.subTree),n(c.component.subTree.children)),c.children&&n(c.children))})};return n(e),t}function ot(e,t,n){const o=nt(e.subTree.children);n.sort((s,r)=>o.indexOf(s.vnode)-o.indexOf(r.vnode));const c=n.map(s=>s.proxy);t.sort((s,r)=>{const d=c.indexOf(s),a=c.indexOf(r);return d-a})}function st(e){const t=K([]),n=K([]),o=ne();return{children:t,linkChildren:s=>{Ie(e,Object.assign({link:a=>{a.proxy&&(n.push(a),t.push(a.proxy),ot(o,t,n))},unlink:a=>{const v=n.indexOf(a);t.splice(v,1),n.splice(v,1)},children:t,internalChildren:n},s))}}}function ct(e){let t;U(()=>{e(),te(()=>{t=!0})}),Ne(()=>{t&&e()})}function le(e,t,n={}){if(!se)return;const{target:o=window,passive:c=!1,capture:s=!1}=n;let r;const d=v=>{const f=L(v);f&&!r&&(f.addEventListener(e,t,{capture:s,passive:c}),r=!0)},a=v=>{const f=L(v);f&&r&&(f.removeEventListener(e,t,s),r=!1)};he(()=>a(o)),Re(()=>a(o)),ct(()=>d(o)),Le(o)&&q(o,(v,f)=>{a(f),d(v)})}var X,Z;function it(){if(!X&&(X=p(0),Z=p(0),se)){const e=()=>{X.value=window.innerWidth,Z.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:X,height:Z}}var at=/scroll|auto|overlay/i,Ee=se?window:void 0;function rt(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function ut(e,t=Ee){let n=e;for(;n&&n!==t&&rt(n);){const{overflowY:o}=window.getComputedStyle(n);if(at.test(o))return n;n=n.parentNode}return t}function lt(e,t=Ee){const n=p();return U(()=>{e.value&&(n.value=ut(e.value,t))}),n}function Q(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function de(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function xe(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function dt(e){de(window,e),de(document.body,e)}Ze();const ft=e=>e.stopPropagation();function pt(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&ft(e)}function vt(e){const t=L(e);if(!t)return!1;const n=window.getComputedStyle(t),o=n.display==="none",c=t.offsetParent===null&&n.position!=="fixed";return o||c}it();function ht(e){const t={};return e!==void 0&&(t.zIndex=+e),t}const mt=/-(\w)/g,Ce=e=>e.replace(mt,(t,n)=>n.toUpperCase()),{hasOwnProperty:gt}=Object.prototype;function _t(e,t,n){const o=t[n];me(o)&&(!gt.call(e,n)||!ge(o)?e[n]=o:e[n]=be(Object(e[n]),o))}function be(e,t){return Object.keys(t).forEach(n=>{_t(e,t,n)}),e}var yt={name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const fe=p("zh-CN"),pe=K({"zh-CN":yt}),Et={messages(){return pe[fe.value]},use(e,t){fe.value=e,this.add({[e]:t})},add(e={}){be(pe,e)}};var xt=Et;function Ct(e){const t=Ce(e)+".";return(n,...o)=>{const c=xt.messages(),s=re(c,t+n)||re(c,n);return We(s)?s(...o):s}}function ee(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,o)=>n+ee(e,o),""):Object.keys(t).reduce((n,o)=>n+(t[o]?ee(e,o):""),""):""}function bt(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${ee(t,n)}`)}function we(e){const t=`van-${e}`;return[t,bt(t),Ct(t)]}const wt="van-hairline",Bt=`${wt}--bottom`;function Be(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(Ce(`-${n}`),e))},e}function Te(e){const t=ne();t&&_e(t.proxy,e)}function Tt(e,t){return e>t?"horizontal":t>e?"vertical":""}function Dt(){const e=p(0),t=p(0),n=p(0),o=p(0),c=p(0),s=p(0),r=p(""),d=()=>r.value==="vertical",a=()=>r.value==="horizontal",v=()=>{n.value=0,o.value=0,c.value=0,s.value=0,r.value=""};return{move:k=>{const O=k.touches[0];n.value=(O.clientX<0?0:O.clientX)-e.value,o.value=O.clientY-t.value,c.value=Math.abs(n.value),s.value=Math.abs(o.value);const u=10;(!r.value||c.value<u&&s.value<u)&&(r.value=Tt(c.value,s.value))},start:k=>{v(),e.value=k.touches[0].clientX,t.value=k.touches[0].clientY},reset:v,startX:e,startY:t,deltaX:n,deltaY:o,offsetX:c,offsetY:s,direction:r,isVertical:d,isHorizontal:a}}function At(){const e="A".charCodeAt(0);return Array(26).fill("").map((n,o)=>String.fromCharCode(e+o))}const[De,G]=we("index-bar"),kt={sticky:Je,zIndex:ye,teleport:[String,Object],highlightColor:String,stickyOffsetTop:Qe(0),indexList:{type:Array,default:At}},Ae=Symbol(De);var Ot=oe({name:De,props:kt,emits:["select","change"],setup(e,{emit:t,slots:n}){const o=p(),c=p(),s=p(""),r=Dt(),d=lt(o),{children:a,linkChildren:v}=st(Ae);let f;v({props:e});const Y=V(()=>{if(me(e.zIndex))return{zIndex:+e.zIndex+1}}),k=V(()=>{if(e.highlightColor)return{color:e.highlightColor}}),O=(l,h)=>{for(let E=a.length-1;E>=0;E--){const C=E>0?h[E-1].height:0,x=e.sticky?C+e.stickyOffsetTop:0;if(l+x>=h[E].top)return E}return-1},u=l=>a.find(h=>String(h.index)===l),i=()=>{if(vt(o))return;const{sticky:l,indexList:h}=e,E=Q(d.value),C=J(d),x=a.map(P=>P.getRect(d.value,C));let $=-1;if(f){const P=u(f);if(P){const F=P.getRect(d.value,C);$=O(F.top,x)}}else $=O(E,x);s.value=h[$],l&&a.forEach((P,F)=>{const{state:A,$el:ke}=P;if(F===$||F===$-1){const M=ke.getBoundingClientRect();A.left=M.left,A.width=M.width}else A.left=null,A.width=null;if(F===$)A.active=!0,A.top=Math.max(e.stickyOffsetTop,x[F].top-E)+C.top;else if(F===$-1&&f===""){const M=x[$].top-E;A.active=M>0,A.top=M+C.top-x[F].height}else A.active=!1}),f=""},m=()=>{te(i)};le("scroll",i,{target:d,passive:!0}),U(m),q(()=>e.indexList,m),q(s,l=>{l&&t("change",l)});const T=()=>e.indexList.map(l=>{const h=l===s.value;return R("span",{class:G("index",{active:h}),style:h?k.value:void 0,"data-index":l},[l])}),D=l=>{f=String(l);const h=u(f);if(h){const E=Q(d.value),C=J(d),{offsetHeight:x}=document.documentElement;if(h.$el.scrollIntoView(),E===x-C.height){i();return}e.sticky&&e.stickyOffsetTop&&dt(xe()-e.stickyOffsetTop),t("select",h.index)}},j=l=>{const{index:h}=l.dataset;h&&D(h)},g=l=>{j(l.target)};let N;const y=l=>{if(r.move(l),r.isVertical()){pt(l);const{clientX:h,clientY:E}=l.touches[0],C=document.elementFromPoint(h,E);if(C){const{index:x}=C.dataset;x&&N!==x&&(N=x,j(C))}}},S=()=>R("div",{ref:c,class:G("sidebar"),style:Y.value,onClick:g,onTouchstartPassive:r.start},[T()]);return Te({scrollTo:D}),le("touchmove",y,{target:c}),()=>{var l;return R("div",{ref:o,class:G()},[e.teleport?R(ze,{to:e.teleport},{default:()=>[S()]}):S(),(l=n.default)==null?void 0:l.call(n)])}}});const[St,$t]=we("index-anchor"),Ft={index:ye};var Rt=oe({name:St,props:Ft,setup(e,{slots:t}){const n=K({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),o=p(),{parent:c}=tt(Ae);if(!c)return;const s=()=>n.active&&c.props.sticky,r=V(()=>{const{zIndex:a,highlightColor:v}=c.props;if(s())return _e(ht(a),{left:n.left?`${n.left}px`:void 0,width:n.width?`${n.width}px`:void 0,transform:n.top?`translate3d(0, ${n.top}px, 0)`:void 0,color:v})});return Te({state:n,getRect:(a,v)=>{const f=J(o);return n.rect.height=f.height,a===window||a===document.body?n.rect.top=f.top+xe():n.rect.top=f.top+Q(a)-v.top,n.rect}}),()=>{const a=s();return R("div",{ref:o,style:{height:a?`${n.rect.height}px`:void 0}},[R("div",{style:r.value,class:[$t({sticky:a}),{[Bt]:a}]},[t.default?t.default():e.index])])}}});const Lt=Be(Rt),Pt=Be(Ot);function ve(e){return new Promise((t,n)=>{try{const o=document.createElement("input");o.setAttribute("value",e+""),document.body.appendChild(o),o.select(),document.execCommand("copy"),setTimeout(()=>{document.body.removeChild(o),t()},0)}catch(o){n(o)}})}const It=e=>(je("data-v-641021c4"),e=e(),He(),e),Nt={class:"page-doc"},Mt={class:"header"},zt=It(()=>_("div",{class:"logo"},"KeZhi LaTex",-1)),Vt={class:"right"},Yt=["type-id"],jt={class:"type-desc"},Ht={key:0,class:"base-table"},Xt={class:"formula-list"},Kt=["onClick"],qt={class:"name"},Ut={class:"icon"},Wt={class:"text"},Zt={class:"name"},Gt={class:"icon"},Jt=["src"],Qt={class:"text"},en=oe({__name:"LatexDoc",setup(e){let t=Se;const n=Xe();let o=V(()=>t.map(u=>u.name));const c=new Oe;let s=p(""),r=p([]);p([]);let d=p();function a(u){if(!u){r.value=W.flatMapDeep(t.map(i=>({label:i.name,value:"",id:i.id})).filter(i=>i));return}r.value=W.flatMapDeep(t.map(i=>i.name.includes(u)?{label:i.name,value:"",id:i.id}:i.data.map(m=>{var T,D;if(typeof m=="object"&&((T=m.name)!=null&&T.includes(u)||(D=m.formula)!=null&&D.includes(u)))return{label:m.name,value:m.formula,id:m.icon,parentId:i.id}}).filter(m=>m)).filter(i=>i))}function v(u){var T;(T=d.value)==null||T.blur();let i=null;u.parentId?i=document.querySelector(`.formula-${u.label}`):i=document.querySelector(`div[type-id="${u.id}"]`),console.log(u,i,`.formula-${u.label}`),Array.from(document.querySelectorAll(".active")).forEach(D=>{D.classList.remove("active")}),i==null||i.scrollIntoView({block:"center"}),i==null||i.classList.add("active")}function f(){r.value=W.flatMapDeep(t.map(u=>({label:u.name,value:"",id:u.id})).filter(u=>u))}function Y(){n.push({name:"latex-doc"})}function k(){n.push({name:"latex-try"})}q(()=>t,async()=>{t.length&&(await te(),$e())},{immediate:!0}),U(()=>{c.add([{shortcut:"CmdOrCtrl+K",handler:u=>{var i,m;return(i=d.value)==null||i.blur(),(m=d.value)==null||m.focus(),!0}}])});async function O(u,i){typeof u=="string"?await ve(u):await ve(u.formula),Ue.success({message:"Copied！",appendTo:`.${i}`,icon:"none",duration:800})}return(u,i)=>{const m=ce("el-option"),T=ce("el-select"),D=Lt,j=Pt;return b(),w("div",Nt,[_("div",Mt,[zt,_("div",Vt,[R(T,{modelValue:s.value,"onUpdate:modelValue":i[0]||(i[0]=g=>s.value=g),placeholder:"Please input",remote:"",filterable:"",style:{width:"400px","margin-left":"110px"},"suffix-icon":L(Ye),"suffix-transition":!1,class:"search",ref_key:"searchRef",ref:d,"remote-method":a,"value-key":"id","default-first-option":!0,onChange:v,onFocus:f},{prefix:z(()=>[ie("Cmd / Ctrl + K ")]),default:z(()=>[(b(!0),w(I,null,H(r.value,g=>(b(),ae(m,{key:g.id,value:g},{default:z(()=>[ie(B(g.label)+" "+B(g.value),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","suffix-icon"]),_("div",{class:"nav"},[_("div",{class:"nav-item",onClick:Y},"DOC"),_("div",{class:"nav-item",onClick:k},"TRY")])])]),R(j,{"index-list":o.value,sticky:!1,"sticky-offset-top":64,"highlight-color":"#329894"},{default:z(()=>[(b(!0),w(I,null,H(L(t),(g,N)=>(b(),ae(D,{key:g.name,index:g.name},{default:z(()=>[_("div",{class:"type-item","type-id":g.id},B(g.name),9,Yt),_("div",jt,B(g.desc),1),g.isBase?(b(),w("div",Ht,[(b(!0),w(I,null,H(g.data,(y,S)=>(b(),w("div",{key:S,class:"base-item"},B(y),1))),128))])):Ke("",!0),_("div",Xt,[(b(!0),w(I,null,H(g.data,(y,S)=>(b(),w("div",{class:qe(["formula-icon",[`formula-${N}-${S}`,`formula-${typeof y=="string"?y:y.name}`]]),key:S,onClick:()=>O(y,`formula-${N}-${S}`)},[typeof y=="string"?(b(),w(I,{key:0},[_("div",qt,B(y),1),_("div",Ut,B(y),1),_("div",Wt,B(y),1)],64)):(b(),w(I,{key:1},[_("div",Zt,B(y.name),1),_("div",Gt,[_("img",{src:L(Fe)+y.icon+".svg"},null,8,Jt)]),_("div",Qt,B(y.formula),1)],64))],10,Kt))),128))])]),_:2},1032,["index"]))),128))]),_:1},8,["index-list"])])}}}),on=Ve(en,[["__scopeId","data-v-641021c4"]]);export{on as default};
